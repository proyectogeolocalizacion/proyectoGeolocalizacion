@using Newtonsoft.Json;

@model IEnumerable<ProyectoGeolocalizacion.Models.Location>
@{
    ViewData["Title"] = "ShowRoute";
}
<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.css" rel="stylesheet" />

@{
    var tt = new Location();
    string alias = (string)ViewData["alias"];
    string canal = (string)ViewData["canal"];
    List<Location> listaLocations = (List<Location>)Model;

    string locations = "[";
    foreach (Location x in listaLocations)
    {

        locations += JsonConvert.SerializeObject(new { x.Latitude, x.Longitude }, Formatting.Indented) + ",";

    }
    locations = locations.Substring(0, locations.Length - 1);
    locations += "]";
    locations = locations.Replace("Longitude", "lng");
    locations = locations.Replace("Latitude", "lat");

}

<h3 class="text-center text-danger">Esta es la ruta del día que has seleccionado!</h3>
<hr/>
<p hidden id="locations">@locations</p>


<div class="row">
    <div class="offset-1 col-sm-12">
        <div style="position: relative">
            <div id="routemap" style="height: 400px">
            </div>
        </div>
    </div>
</div>



@section Scripts{
    <script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"></script>
    <script src="~/js/showroutes.js"></script>
}
